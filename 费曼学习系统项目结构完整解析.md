# ğŸ“ è´¹æ›¼å­¦ä¹ ç³»ç»Ÿ - é¡¹ç›®ç»“æ„å®Œæ•´è§£æ

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
3. [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
4. [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
5. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
6. [éƒ¨ç½²æ–¹æ¡ˆ](#éƒ¨ç½²æ–¹æ¡ˆ)
7. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
8. [é¡¹ç›®ç»Ÿè®¡](#é¡¹ç›®ç»Ÿè®¡)

---

## ğŸ“Š ç³»ç»Ÿæ¦‚è¿°

è´¹æ›¼å­¦ä¹ ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº**LangGraph + FastAPI + Streamlit**çš„æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹ï¼Œé‡‡ç”¨**å¾®æœåŠ¡åŒ–æ¨¡å—è®¾è®¡**ï¼Œæ”¯æŒå¤šæ¨¡æ€å­¦ä¹ ã€çŸ¥è¯†å›¾è°±æ„å»ºå’Œå…¨é¢ç›‘æ§ã€‚

### ğŸ† æ ¸å¿ƒåˆ›æ–°ç‚¹

- **ğŸ’¡ åè½¬æ•™å­¦æ¨¡å¼**ï¼šAIå½“å­¦ç”Ÿï¼Œäººç±»å½“è€å¸ˆ
- **âš¡ æµå¼å®æ—¶å¯¹è¯**ï¼šLangGraphçŠ¶æ€æœºå¼å¯¹è¯ç®¡ç†
- **ğŸ•¸ï¸ åŠ¨æ€çŸ¥è¯†å›¾è°±**ï¼šå®æ—¶æ„å»ºæ¦‚å¿µå…³ç³»ç½‘ç»œ
- **ğŸ› ï¸ ä¸°å¯Œå·¥å…·ç”Ÿæ€**ï¼š13ä¸ªä¸“ä¸šAIå·¥å…·æ— ç¼é›†æˆ
- **ğŸ’° æ™ºèƒ½æˆæœ¬æ§åˆ¶**ï¼šè‡ªåŠ¨è¿½è¸ªAPIä½¿ç”¨æˆæœ¬
- **ğŸ“Š å…¨æ–¹ä½ç›‘æ§**ï¼šæ€§èƒ½+å¥åº·+æˆæœ¬+è¿½è¸ªä½“ç³»

### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ« **æ•™è‚²åŸ¹è®­**ï¼šä¸ªæ€§åŒ–æ•™å­¦åŠ©æ‰‹
- ğŸ¢ **ä¼ä¸šåŸ¹è®­**ï¼šå‘˜å·¥æŠ€èƒ½æå‡
- ğŸ§  **çŸ¥è¯†ç®¡ç†**ï¼šç»„ç»‡çŸ¥è¯†åº“æ„å»º
- ğŸ”¬ **ç ”ç©¶è¾…åŠ©**ï¼šæ–‡çŒ®æ•´ç†å’Œæ¦‚å¿µæ¢³ç†

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    subgraph "è´¹æ›¼å­¦ä¹ ç³»ç»Ÿæ¶æ„"
        A["ğŸ¯ Webç•Œé¢ (Streamlit)"] --> B["ğŸ“¡ APIç½‘å…³ (FastAPI)"]
        B --> C["ğŸ¤– Agentæ ¸å¿ƒ (LangGraph)"]
        C --> D["ğŸ› ï¸ å·¥å…·ç³»ç»Ÿ (Tools)"]
        C --> E["ğŸ§  è®°å¿†ç³»ç»Ÿ (Memory)"]
        C --> F["ğŸ“Š ç›‘æ§ç³»ç»Ÿ (Monitoring)"]
        C --> G["ğŸ•¸ï¸ çŸ¥è¯†å›¾è°± (KG)"]
        
        subgraph "å·¥å…·å±‚"
            D --> D1["ğŸ” æœç´¢å·¥å…·"]
            D --> D2["ğŸ’¬ ç¿»è¯‘å·¥å…·"]
            D --> D3["ğŸ§® è®¡ç®—å·¥å…·"]
            D --> D4["ğŸ’» ä»£ç æ‰§è¡Œ"]
            D --> D5["ğŸ—‚ï¸ çŸ¥è¯†æ£€ç´¢"]
        end
        
        subgraph "å­˜å‚¨å±‚"
            E --> E1["ğŸ“š ChromaDB (å‘é‡)"]
            E --> E2["ğŸ—ƒï¸ Supabase (ç»“æ„åŒ–)"]
            G --> G1["ğŸŒ Neo4j (å›¾æ•°æ®åº“)"]
            G --> G2["ğŸ“„ JSON (æœ¬åœ°å­˜å‚¨)"]
        end
        
        subgraph "ç›‘æ§å±‚"
            F --> F1["ğŸ“ˆ PrometheusæŒ‡æ ‡"]
            F --> F2["ğŸ” OpenTelemetryè¿½è¸ª"]
            F --> F3["ğŸ’° æˆæœ¬è¿½è¸ª"]
            F --> F4["ğŸ¯ LangFuseåˆ†æ"]
        end
    end
```

### æ ¸å¿ƒæ¨¡å—æ¶æ„

```mermaid
graph LR
    subgraph "feynmanæ ¸å¿ƒæ¨¡å—"
        A["ğŸ¤– agents<br/>æ™ºèƒ½ä½“ç³»ç»Ÿ"] --> A1["ğŸ§  core/agent.py<br/>æ ¸å¿ƒæ™ºèƒ½ä½“"]
        A --> A2["ğŸ”§ tools/<br/>å·¥å…·é›†åˆ"]
        A --> A3["ğŸ“ prompts/<br/>æç¤ºç®¡ç†"]
        A --> A4["ğŸ“Š parsers/<br/>è¾“å‡ºè§£æ"]
        
        B["ğŸŒ api<br/>APIæœåŠ¡"] --> B1["ğŸ“¡ v1/endpoints/<br/>RESTç«¯ç‚¹"]
        B --> B2["âš™ï¸ middleware/<br/>ä¸­é—´ä»¶"]
        B --> B3["ğŸ“‹ schemas/<br/>æ•°æ®æ¨¡å‹"]
        
        C["âš¡ core<br/>æ ¸å¿ƒæœåŠ¡"] --> C1["ğŸ•¸ï¸ graph/<br/>çŸ¥è¯†å›¾è°±"]
        C --> C2["âš™ï¸ config/<br/>é…ç½®ç®¡ç†"]
        
        D["ğŸ—ï¸ infrastructure<br/>åŸºç¡€è®¾æ–½"] --> D1["ğŸ—„ï¸ database/<br/>æ•°æ®å­˜å‚¨"]
        D --> D2["ğŸ“Š monitoring/<br/>ç›‘æ§ç³»ç»Ÿ"]
        D --> D3["ğŸ“‹ tasks/<br/>å¼‚æ­¥ä»»åŠ¡"]
        
        E["ğŸ–¥ï¸ interfaces<br/>ç”¨æˆ·ç•Œé¢"] --> E1["ğŸ“± web/<br/>Streamlitç•Œé¢"]
    end
```

---

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### ğŸ“ ç›®å½•ç»“æ„æ¦‚è§ˆ

```
src/feynman/
â”œâ”€â”€ agents/                 # ğŸ¤– æ™ºèƒ½ä½“ç³»ç»Ÿ
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒAgentå®ç°
â”‚   â”œâ”€â”€ tools/             # 13ä¸ªAIå·¥å…·
â”‚   â”œâ”€â”€ prompts/           # æç¤ºè¯ç®¡ç†ç³»ç»Ÿ
â”‚   â””â”€â”€ parsers/           # è¾“å‡ºè§£æå™¨
â”œâ”€â”€ api/                   # ğŸŒ APIæœåŠ¡å±‚
â”‚   â”œâ”€â”€ v1/endpoints/      # REST APIç«¯ç‚¹
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶ (ç›‘æ§/CORS)
â”‚   â””â”€â”€ schemas/           # æ•°æ®æ¨¡å‹
â”œâ”€â”€ core/                  # âš¡ æ ¸å¿ƒæœåŠ¡
â”‚   â”œâ”€â”€ graph/             # çŸ¥è¯†å›¾è°±ç³»ç»Ÿ
â”‚   â””â”€â”€ config/            # é…ç½®ç®¡ç†
â”œâ”€â”€ infrastructure/        # ğŸ—ï¸ åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ database/          # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ monitoring/        # ç›‘æ§ä½“ç³»
â”‚   â””â”€â”€ tasks/             # å¼‚æ­¥ä»»åŠ¡
â””â”€â”€ interfaces/            # ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢
    â””â”€â”€ web/               # Streamlit Webç•Œé¢
```

### ğŸ¤– æ™ºèƒ½ä½“ç³»ç»Ÿ (agents/)

#### ğŸ§  æ ¸å¿ƒAgent (core/agent.py)

```python
# åŸºäºLangGraphçš„æ™ºèƒ½å¯¹è¯ä»£ç†
class FeynmanAgent:
    - çŠ¶æ€ç®¡ç† (ConversationState)
    - å·¥ä½œæµå®šä¹‰ (StateGraph) 
    - ç”¨æˆ·è¾“å…¥å¤„ç† (user_input_handler)
    - è®°å¿†æ•´ç† (summarize_conversation_for_memory)
    - å¤šæ¨¡å‹æ”¯æŒ (OpenAI + æ™ºè°±AI)
```

**å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ ç†è§£åˆ†æ â†’ å·¥å…·è°ƒç”¨ â†’ è®°å¿†å­˜å‚¨ â†’ ç”Ÿæˆå›å¤
```

#### ğŸ› ï¸ å·¥å…·ç³»ç»Ÿ (tools/tools.py)

**13ä¸ªä¸“ä¸šAIå·¥å…·åˆ†ç±»**ï¼š

```python
# 1. ğŸ” çŸ¥è¯†æ£€ç´¢ç±» (3ä¸ª)
- knowledge_retriever()    # RAGå‘é‡æœç´¢
- memory_retriever()       # é•¿æœŸè®°å¿†æ£€ç´¢  
- file_operation()         # æ–‡ä»¶è¯»å†™æ“ä½œ

# 2. ğŸŒ ç½‘ç»œæœç´¢ç±» (3ä¸ª)
- web_search()            # Tavilyç½‘ç»œæœç´¢
- search_academic_papers() # arXivå­¦æœ¯è®ºæ–‡
- search_wikipedia()       # ç»´åŸºç™¾ç§‘æ£€ç´¢

# 3. ğŸ’» å¤„ç†è®¡ç®—ç±» (3ä¸ª)
- translate_text()         # ç™¾åº¦ç¿»è¯‘API
- calculate_math()         # WolframAlphaæ•°å­¦
- execute_code()          # Judge0ä»£ç æ‰§è¡Œ

# 4. ğŸ¨ å¯è§†åŒ–ç±» (2ä¸ª)  
- create_mindmap()        # æ€ç»´å¯¼å›¾ç”Ÿæˆ
- create_flowchart()      # æµç¨‹å›¾ç”Ÿæˆ

# 5. ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±ç±» (2ä¸ª)
- graph_query()           # å›¾è°±æŸ¥è¯¢
- graph_explain()         # å®ä½“è§£é‡Š
```

#### ğŸ“ æç¤ºè¯ç®¡ç†ç³»ç»Ÿ (prompts/)

```python
ğŸ“ prompts/
â”œâ”€â”€ prompt_manager.py     # ç»Ÿä¸€ç®¡ç†å™¨ï¼Œç¼“å­˜+æ¨¡æ¿æ¸²æŸ“
â”œâ”€â”€ agent_prompts.py      # Agentè¡Œä¸ºæç¤ºè¯
â”œâ”€â”€ system_prompts.py     # ç³»ç»Ÿçº§æç¤ºè¯  
â”œâ”€â”€ tool_prompts.py       # å·¥å…·ç›¸å…³æç¤ºè¯
â””â”€â”€ templates/            # æ¨¡æ¿æ–‡ä»¶
    â”œâ”€â”€ agent.py          # Agentæ¨¡æ¿
    â”œâ”€â”€ system.py         # ç³»ç»Ÿæ¨¡æ¿
    â””â”€â”€ tools.py          # å·¥å…·æ¨¡æ¿
```

### ğŸŒ APIæœåŠ¡å±‚ (api/)

```python
ğŸ“¡ api/
â”œâ”€â”€ v1/endpoints/              # REST APIç«¯ç‚¹
â”‚   â”œâ”€â”€ chat.py               # ğŸ’¬ å¯¹è¯æ¥å£ (/chat, /chat/stream)
â”‚   â”œâ”€â”€ monitoring.py         # ğŸ“Š ç›‘æ§æ¥å£ (/metrics, /health)  
â”‚   â”œâ”€â”€ config.py             # âš™ï¸ é…ç½®æ¥å£ (/config/*)
â”‚   â””â”€â”€ knowledge_graph.py    # ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±æ¥å£ (/kg/*)
â”œâ”€â”€ middleware/               # ä¸­é—´ä»¶å±‚
â”‚   â”œâ”€â”€ monitoring.py         # ğŸ“Š è¯·æ±‚ç›‘æ§+æŒ‡æ ‡æ”¶é›†
â”‚   â””â”€â”€ cors.py              # ğŸ”’ è·¨åŸŸå¤„ç†
â””â”€â”€ schemas/                 # æ•°æ®æ¨¡å‹
    â””â”€â”€ requests.py          # ğŸ“‹ è¯·æ±‚/å“åº”æ¨¡å‹
```

**æ ¸å¿ƒAPIç«¯ç‚¹**ï¼š
- `POST /chat` - åŒæ­¥å¯¹è¯  
- `POST /chat/stream` - æµå¼å¯¹è¯
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /metrics` - PrometheusæŒ‡æ ‡
- `GET /kg/*` - çŸ¥è¯†å›¾è°±æŸ¥è¯¢

### ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±ç³»ç»Ÿ (core/graph/)

```python
ğŸ•¸ï¸ core/graph/
â”œâ”€â”€ service.py      # ğŸ¯ æœåŠ¡å±‚ - ç»Ÿä¸€APIæ¥å£
â”œâ”€â”€ extractor.py    # ğŸ§  æŠ½å–å™¨ - LLMå®ä½“å…³ç³»æŠ½å–
â”œâ”€â”€ builder.py      # ğŸ”¨ æ„å»ºå™¨ - å›¾è°±æ„å»ºé€»è¾‘  
â”œâ”€â”€ storage.py      # ğŸ’¾ å­˜å‚¨å±‚ - Neo4j/JSONåç«¯
â”œâ”€â”€ schema.py       # ğŸ“‹ æ•°æ®æ¨¡å‹ - Pydanticæ¨¡å‹
â””â”€â”€ __init__.py     # ğŸ“¦ æ¨¡å—å¯¼å‡º
```

**çŸ¥è¯†å›¾è°±å·¥ä½œæµç¨‹**ï¼š
```
æ–‡æœ¬è¾“å…¥ â†’ LLMæŠ½å– â†’ ä¸‰å…ƒç»„ â†’ å›¾å­˜å‚¨ â†’ æŸ¥è¯¢æ£€ç´¢
    â†“         â†“        â†“       â†“        â†“
  åŸå§‹æ–‡æ¡£   å®ä½“å…³ç³»   (s,p,o)  Neo4j   å¯è§†åŒ–
```

### ğŸ—ï¸ åŸºç¡€è®¾æ–½å±‚ (infrastructure/)

```mermaid
graph TB
    subgraph "åŸºç¡€è®¾æ–½æ¶æ„"
        A["ğŸ—„ï¸ database<br/>æ•°æ®å­˜å‚¨"] --> A1["ğŸ“š memory/<br/>ChromaDBå‘é‡å­˜å‚¨"]
        A --> A2["ğŸ” vector/<br/>å‘é‡æ£€ç´¢"]
        
        B["ğŸ“Š monitoring<br/>ç›‘æ§ç³»ç»Ÿ"] --> B1["ğŸ’° cost/<br/>æˆæœ¬è¿½è¸ª"]
        B --> B2["ğŸ“ˆ metrics/<br/>PrometheusæŒ‡æ ‡"]
        B --> B3["ğŸ” tracing/<br/>åˆ†å¸ƒå¼è¿½è¸ª"]
        B --> B4["ğŸ“ logging/<br/>ç»“æ„åŒ–æ—¥å¿—"]
        B --> B5["â¤ï¸ health/<br/>å¥åº·æ£€æŸ¥"]
        
        C["ğŸ“‹ tasks<br/>ä»»åŠ¡ç³»ç»Ÿ"] --> C1["â° queue/<br/>å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—"]
        
        D["ğŸ”Œ external<br/>å¤–éƒ¨æœåŠ¡"] --> D1["ğŸ¤– llm/<br/>å¤§æ¨¡å‹æ¥å£"]
        D --> D2["ğŸ” search/<br/>æœç´¢æœåŠ¡"]
    end
```

#### ğŸ“Š ç›‘æ§ç³»ç»Ÿè¯¦è§£

```python
ğŸ“Š monitoring/ - å…¨é¢ç›‘æ§ç³»ç»Ÿ
â”œâ”€â”€ cost/tracker.py          # ğŸ’° æˆæœ¬è¿½è¸ª
â”‚   â”œâ”€â”€ æ¨¡å‹å®šä»·è¡¨ (OpenAI + æ™ºè°±AI)
â”‚   â”œâ”€â”€ Tokenä½¿ç”¨ç»Ÿè®¡
â”‚   â”œâ”€â”€ é¢„ç®—æ§åˆ¶ (æ—¥/æœˆé™é¢)
â”‚   â””â”€â”€ åŒæ­¥/å¼‚æ­¥å…¼å®¹ä¿å­˜
â”œâ”€â”€ metrics/prometheus.py    # ğŸ“ˆ PrometheusæŒ‡æ ‡
â”œâ”€â”€ tracing/                 # ğŸ” åˆ†å¸ƒå¼è¿½è¸ª  
â”‚   â”œâ”€â”€ otlp.py             # OpenTelemetry
â”‚   â””â”€â”€ langfuse.py         # LangFuse (3.xå…¼å®¹)
â”œâ”€â”€ logging/structured.py   # ğŸ“ ç»“æ„åŒ–æ—¥å¿—
â””â”€â”€ health/checker.py       # â¤ï¸ å¥åº·æ£€æŸ¥
    â”œâ”€â”€ ç³»ç»Ÿèµ„æºç›‘æ§
    â”œâ”€â”€ æ•°æ®åº“è¿æ¥æ£€æŸ¥
    â”œâ”€â”€ APIæœåŠ¡çŠ¶æ€
    â””â”€â”€ å¤–éƒ¨ä¾èµ–éªŒè¯
```

### ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢å±‚ (interfaces/)

```python
ğŸ–¥ï¸ interfaces/web/
â”œâ”€â”€ streamlit_ui.py          # ğŸ¯ ä¸»ç•Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ å¤šæ ‡ç­¾å¸ƒå±€ (å¯¹è¯/çŸ¥è¯†å›¾è°±)
â”‚   â”œâ”€â”€ å®æ—¶æµå¼å¯¹è¯
â”‚   â”œâ”€â”€ ä¼šè¯çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ é”™è¯¯å¤„ç†æœºåˆ¶
â”œâ”€â”€ knowledge_graph_ui.py    # ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚   â”œâ”€â”€ å›¾è°±æ•°æ®å±•ç¤º
â”‚   â”œâ”€â”€ äº¤äº’å¼æŸ¥è¯¢ç•Œé¢
â”‚   â””â”€â”€ å¯è§†åŒ–ç»„ä»¶
â””â”€â”€ streamlit_app.py         # ğŸš€ åº”ç”¨å¯åŠ¨å™¨
```

---

## ğŸ”„ æ ¸å¿ƒå·¥ä½œæµç¨‹

### ç³»ç»Ÿå·¥ä½œæµç¨‹å›¾

```mermaid
graph TB
    subgraph "ğŸ”„ æ ¸å¿ƒå·¥ä½œæµç¨‹"
        A["ğŸ‘¤ ç”¨æˆ·è¾“å…¥"] --> B["ğŸ“ æç¤ºè¯å¤„ç†"]
        B --> C["ğŸ¤– Agentåˆ†æ"]
        C --> D["ğŸ› ï¸ å·¥å…·é€‰æ‹©"]
        D --> E["âš¡ å¹¶è¡Œæ‰§è¡Œ"]
        E --> F["ğŸ“Š ç»“æœèšåˆ"]
        F --> G["ğŸ§  è®°å¿†æ›´æ–°"]
        G --> H["ğŸ’° æˆæœ¬è®°å½•"]
        H --> I["ğŸ“ˆ ç›‘æ§ä¸ŠæŠ¥"]
        I --> J["ğŸ”„ æµå¼è¾“å‡º"]
        J --> K["ğŸ‘¤ ç”¨æˆ·åé¦ˆ"]
        
        E --> E1["ğŸ” çŸ¥è¯†æ£€ç´¢"]
        E --> E2["ğŸŒ ç½‘ç»œæœç´¢"]
        E --> E3["ğŸ’» ä»£ç æ‰§è¡Œ"]
        E --> E4["ğŸ•¸ï¸ å›¾è°±æŸ¥è¯¢"]
    end
```

### æ•°æ®æµæ¶æ„

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ç”¨æˆ·
    participant W as ğŸ–¥ï¸ Streamlit UI
    participant A as ğŸ“¡ FastAPI
    participant AG as ğŸ¤– LangGraph Agent
    participant T as ğŸ› ï¸ Tools System
    participant M as ğŸ§  Memory
    participant KG as ğŸ•¸ï¸ Knowledge Graph
    participant MON as ğŸ“Š Monitoring

    U->>W: è¾“å…¥å­¦ä¹ é—®é¢˜
    W->>A: POST /chat/stream
    A->>AG: åˆ›å»ºå¯¹è¯ä»»åŠ¡
    AG->>M: æ£€ç´¢ç›¸å…³è®°å¿†
    M-->>AG: è¿”å›è®°å¿†å†…å®¹
    AG->>T: è°ƒç”¨ç›¸å…³å·¥å…·
    T-->>AG: è¿”å›å·¥å…·ç»“æœ
    AG->>KG: æ„å»º/æŸ¥è¯¢çŸ¥è¯†å›¾è°±
    KG-->>AG: è¿”å›å›¾è°±æ•°æ®
    AG->>MON: è®°å½•æˆæœ¬/æŒ‡æ ‡
    AG-->>A: æµå¼å“åº”
    A-->>W: Server-Sent Events
    W-->>U: å®æ—¶æ˜¾ç¤ºå›ç­”
```

### å®é™…ä½¿ç”¨åœºæ™¯æµç¨‹

```mermaid
sequenceDiagram
    participant Teacher as ğŸ‘¨â€ğŸ« æ•™å¸ˆç”¨æˆ·
    participant UI as ğŸ–¥ï¸ Streamlitç•Œé¢
    participant API as ğŸ“¡ FastAPIæœåŠ¡
    participant Agent as ğŸ¤– AIå­¦ç”ŸAgent
    participant Tools as ğŸ› ï¸ å·¥å…·ç³»ç»Ÿ
    participant KG as ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±
    participant Monitor as ğŸ“Š ç›‘æ§ç³»ç»Ÿ
    
    Note over Teacher,Monitor: è´¹æ›¼å­¦ä¹ åœºæ™¯ï¼šæ•™å¸ˆå‘AIå­¦ç”Ÿä¼ æˆ"æœºå™¨å­¦ä¹ "
    
    Teacher->>UI: è®¾å®šå­¦ä¹ ä¸»é¢˜"æœºå™¨å­¦ä¹ "
    UI->>API: POST /chat/stream
    API->>Agent: å¯åŠ¨å­¦ä¹ ä¼šè¯
    Agent->>Tools: è°ƒç”¨çŸ¥è¯†æ£€ç´¢å·¥å…·
    Tools-->>Agent: è¿”å›ç›¸å…³çŸ¥è¯†èƒŒæ™¯
    
    Agent->>Teacher: "è€å¸ˆï¼Œæˆ‘å¯¹æœºå™¨å­¦ä¹ æœ‰åŸºæœ¬äº†è§£ï¼Œä½†å¯¹ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ çš„åŒºåˆ«è¿˜ä¸æ¸…æ¥š"
    Teacher->>Agent: "ç›‘ç£å­¦ä¹ éœ€è¦æ ‡è®°æ•°æ®..."
    
    Agent->>Tools: è°ƒç”¨å­¦æœ¯è®ºæ–‡æœç´¢
    Tools-->>Agent: è¿”å›æœ€æ–°ç ”ç©¶èµ„æ–™
    Agent->>KG: æ„å»ºçŸ¥è¯†å…³ç³»å›¾
    KG-->>Agent: å­˜å‚¨æ¦‚å¿µå…³è”
    
    Agent->>Teacher: "æ˜ç™½äº†ï¼ç›‘ç£å­¦ä¹ åƒæœ‰ç­”æ¡ˆçš„ç»ƒä¹ é¢˜ã€‚é‚£æ·±åº¦å­¦ä¹ æ˜¯ç›‘ç£å­¦ä¹ çš„ä¸€ç§å—ï¼Ÿ"
    Teacher->>Agent: "æ·±åº¦å­¦ä¹ å¯ä»¥æ˜¯ç›‘ç£ä¹Ÿå¯ä»¥æ˜¯æ— ç›‘ç£..."
    
    Agent->>Tools: è°ƒç”¨ä»£ç ç”Ÿæˆå·¥å…·
    Tools-->>Agent: ç”Ÿæˆç¤ºä¾‹ä»£ç 
    Agent->>Monitor: è®°å½•å­¦ä¹ æˆæœ¬å’Œæ•ˆæœ
    Monitor-->>Agent: æ›´æ–°ç›‘æ§æŒ‡æ ‡
    
    Agent->>Teacher: "æˆ‘å†™äº†ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œä»£ç ï¼Œè¯·è€å¸ˆæ£€æŸ¥..."
    
    Note over Teacher,Monitor: æŒç»­çš„è‹æ ¼æ‹‰åº•å¼å¯¹è¯ï¼ŒAIæ‰®æ¼”å¥½å¥‡çš„å­¦ç”Ÿ
```

---

## ğŸš€ æŠ€æœ¯æ ˆ

### å®Œæ•´æŠ€æœ¯æ¶æ„

```mermaid
graph TB
    subgraph "ğŸ“ è´¹æ›¼å­¦ä¹ ç³»ç»Ÿ - å®Œæ•´æŠ€æœ¯æ ˆ"
        A["ğŸ‘¤ ç”¨æˆ·å±‚"] --> A1["ğŸ–¥ï¸ Streamlit UI<br/>å¤šæ ‡ç­¾ç•Œé¢"]
        A --> A2["ğŸ“± REST API<br/>ç¨‹åºåŒ–æ¥å£"]
        
        B["ğŸ¤– åº”ç”¨å±‚"] --> B1["ğŸ§  LangGraph Agent<br/>çŠ¶æ€æœºå¯¹è¯ç®¡ç†"]
        B --> B2["ğŸ› ï¸ 13ä¸ªAIå·¥å…·<br/>å¤šæ¨¡æ€èƒ½åŠ›"]
        B --> B3["ğŸ“ æç¤ºè¯ç®¡ç†<br/>æ¨¡æ¿åŒ–ç³»ç»Ÿ"]
        
        C["âš¡ æœåŠ¡å±‚"] --> C1["ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±<br/>Neo4j + æœ¬åœ°å­˜å‚¨"]
        C --> C2["ğŸ’¾ å‘é‡è®°å¿†<br/>ChromaDB"]
        C --> C3["ğŸ“Š å®æ—¶ç›‘æ§<br/>å¤šç»´åº¦æŒ‡æ ‡"]
        
        D["ğŸ—ï¸ åŸºç¡€å±‚"] --> D1["ğŸ—„ï¸ æ•°æ®å­˜å‚¨<br/>å¤šåç«¯æ”¯æŒ"]
        D --> D2["ğŸ“ˆ ç›‘æ§è¿½è¸ª<br/>æˆæœ¬+æ€§èƒ½+å¥åº·"]
        D --> D3["ğŸ“‹ å¼‚æ­¥ä»»åŠ¡<br/>é˜Ÿåˆ—å¤„ç†"]
        
        E["ğŸš€ éƒ¨ç½²å±‚"] --> E1["ğŸ³ å®¹å™¨åŒ–<br/>Docker + K8s"]
        E --> E2["ğŸ“Š ç›‘æ§æ ˆ<br/>Prometheus + Grafana"]
        E --> E3["ğŸ”§ è‡ªåŠ¨åŒ–<br/>Makefile + CI/CD"]
    end
```

### æ ¸å¿ƒæŠ€æœ¯é€‰å‹

| æŠ€æœ¯åˆ†ç±» | æŠ€æœ¯é€‰æ‹© | è¯´æ˜ |
|---------|---------|------|
| **åç«¯æ¡†æ¶** | FastAPI + LangGraph | é«˜æ€§èƒ½API + æ™ºèƒ½ä½“å·¥ä½œæµ |
| **å‰ç«¯ç•Œé¢** | Streamlit | å¿«é€Ÿæ•°æ®åº”ç”¨å¼€å‘ |
| **AIæ¨¡å‹** | OpenAI + æ™ºè°±AI | å¤šæ¨¡å‹æ”¯æŒï¼Œé™ä½ä¾èµ–é£é™© |
| **æ•°æ®å­˜å‚¨** | Neo4j + ChromaDB + Supabase | å›¾æ•°æ®åº“ + å‘é‡å­˜å‚¨ + ç»“æ„åŒ–å­˜å‚¨ |
| **ç›‘æ§ä½“ç³»** | Prometheus + Grafana + LangFuse + OpenTelemetry | å…¨æ–¹ä½ç›‘æ§è¿½è¸ª |
| **éƒ¨ç½²æ–¹æ¡ˆ** | Docker + Kubernetes | å®¹å™¨åŒ– + ç¼–æ’ |
| **åŒ…ç®¡ç†** | uv | ç°ä»£Pythonä¾èµ–ç®¡ç† |

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### å¤šç¯å¢ƒéƒ¨ç½²æ¶æ„

```mermaid
graph TB
    subgraph "ğŸš€ å¤šç¯å¢ƒéƒ¨ç½²æ¶æ„"
        A["ğŸ’» æœ¬åœ°å¼€å‘"] --> A1["ğŸ³ Dockerå•å®¹å™¨<br/>å¿«é€Ÿå¯åŠ¨"]
        A --> A2["ğŸ“¦ uvè™šæ‹Ÿç¯å¢ƒ<br/>åŸç”Ÿè¿è¡Œ"]
        
        B["ğŸ§ª æµ‹è¯•ç¯å¢ƒ"] --> B1["ğŸ­ Docker Compose<br/>æœåŠ¡ç¼–æ’"]
        B --> B2["ğŸ“Š ç›‘æ§æ ˆ<br/>Prometheus+Grafana"]
        
        C["â˜ï¸ ç”Ÿäº§ç¯å¢ƒ"] --> C1["â˜¸ï¸ Kubernetes<br/>å®¹å™¨ç¼–æ’"]
        C --> C2["ğŸ”„ è´Ÿè½½å‡è¡¡<br/>é«˜å¯ç”¨éƒ¨ç½²"]
        C --> C3["ğŸ“ˆ ç›‘æ§å‘Šè­¦<br/>ä¼ä¸šçº§ç›‘æ§"]
        
        D["ğŸ› ï¸ è‡ªåŠ¨åŒ–"] --> D1["ğŸ”§ Makefile<br/>ä¸€é”®å‘½ä»¤"]
        D --> D2["ğŸ¤– CI/CD<br/>è‡ªåŠ¨éƒ¨ç½²"]
        D --> D3["ğŸ“Š å¥åº·æ£€æŸ¥<br/>æœåŠ¡ç›‘æ§"]
    end
```

### é…ç½®ç®¡ç†ä½“ç³»

```mermaid
graph TB
    subgraph "é…ç½®ç®¡ç†æ¶æ„"
        A["ğŸ“ environments/<br/>ç¯å¢ƒé…ç½®"] --> A1["ğŸ§ª test.env<br/>æµ‹è¯•ç¯å¢ƒ"]
        A --> A2["ğŸ’» development.env<br/>å¼€å‘ç¯å¢ƒ"]
        A --> A3["âš¡ minimal.env<br/>æœ€å°é…ç½®"]
        
        B["ğŸ“ config/<br/>æœåŠ¡é…ç½®"] --> B1["ğŸ“Š prometheus.yml<br/>æŒ‡æ ‡é…ç½®"]
        B --> B2["ğŸ¯ grafana/<br/>ä»ªè¡¨æ¿"]
        B --> B3["ğŸš¨ alerting_rules.yml<br/>å‘Šè­¦è§„åˆ™"]
        B --> B4["ğŸ³ docker-compose.yml<br/>å®¹å™¨ç¼–æ’"]
        
        C["ğŸ—ï¸ src/core/config/<br/>åº”ç”¨é…ç½®"] --> C1["âš™ï¸ settings.py<br/>Pydanticé…ç½®ç±»"]
        
        A1 --> C1
        A2 --> C1
        A3 --> C1
    end
```

### å®¹å™¨åŒ–é…ç½®

**Dockerfile**:
```dockerfile
# è´¹æ›¼å­¦ä¹ ç³»ç»Ÿ Dockeré…ç½®
FROM python:3.11-slim

WORKDIR /app

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY requirements.txt .
RUN pip install -r requirements.txt

# å¤åˆ¶æºä»£ç 
COPY src/ ./src/
COPY config/ ./config/
COPY data/ ./data/

# æš´éœ²ç«¯å£
EXPOSE 8000

# å¯åŠ¨å‘½ä»¤
CMD ["python", "-m", "uvicorn", "src.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

---

## ğŸ§ª æµ‹è¯•ä½“ç³»

### æµ‹è¯•é‡‘å­—å¡”

```mermaid
graph TB
    subgraph "ğŸ§ª æµ‹è¯•é‡‘å­—å¡”"
        A["ğŸ”¬ å•å…ƒæµ‹è¯• (Unit)"] --> A1["âš¡ test_agents/<br/>Agenté€»è¾‘æµ‹è¯•"]
        A --> A2["ğŸŒ test_api/<br/>APIç«¯ç‚¹æµ‹è¯•"]
        A --> A3["ğŸ—ï¸ test_infrastructure/<br/>åŸºç¡€ç»„ä»¶æµ‹è¯•"]
        
        B["ğŸ”— é›†æˆæµ‹è¯• (Integration)"] --> B1["ğŸ“Š test_monitoring.py<br/>ç›‘æ§é›†æˆ"]
        B --> B2["ğŸ•¸ï¸ test_knowledge_graph.py<br/>çŸ¥è¯†å›¾è°±é›†æˆ"]
        B --> B3["ğŸ¤– test_gap_identifier.py<br/>Agenté›†æˆ"]
        
        C["ğŸ­ ç«¯åˆ°ç«¯æµ‹è¯• (E2E)"] --> C1["ğŸ“± ç”¨æˆ·æµç¨‹æµ‹è¯•"]
        C --> C2["âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•"]
        
        D["ğŸ”§ å·¥å…·æµ‹è¯•"] --> D1["ğŸ“Š å¯è§†åŒ–æµ‹è¯•"]
        D --> D2["ğŸ’» ä»£ç æ‰§è¡Œæµ‹è¯•"]
        D --> D3["ğŸŒ APIé›†æˆæµ‹è¯•"]
    end
```

### æµ‹è¯•ç»“æ„

```python
tests/ - å®Œæ•´æµ‹è¯•é‡‘å­—å¡”
â”œâ”€â”€ unit/                    # ğŸ”¬ å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_agents/        # Agentæ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ test_api/           # APIç«¯ç‚¹åŠŸèƒ½
â”‚   â””â”€â”€ test_infrastructure/ # åŸºç¡€ç»„ä»¶
â”œâ”€â”€ integration/            # ğŸ”— é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_monitoring.py  # ç›‘æ§ç³»ç»Ÿé›†æˆ
â”‚   â””â”€â”€ test_monitoring_integration.py # ç›‘æ§å®Œæ•´æµç¨‹
â”œâ”€â”€ e2e/                   # ğŸ­ ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ fixtures/              # ğŸ“‹ æµ‹è¯•æ•°æ®
â””â”€â”€ ä¸“é¡¹æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ test_knowledge_graph.py     # çŸ¥è¯†å›¾è°±åŠŸèƒ½
    â”œâ”€â”€ test_output_parser.py       # è¾“å‡ºè§£æå™¨
    â””â”€â”€ test_api.py                 # APIç»¼åˆæµ‹è¯•
```

---

## ğŸ”§ è„šæœ¬å·¥å…·ç”Ÿæ€

### å·¥å…·åˆ†ç±»æ¶æ„

```mermaid
graph LR
    subgraph "ğŸ”§ è„šæœ¬å·¥å…·ç”Ÿæ€"
        A["ğŸš€ å¼€å‘å·¥å…·"] --> A1["dev_helper.py<br/>å¼€å‘åŠ©æ‰‹"]
        A --> A2["setup_env.py<br/>ç¯å¢ƒåˆå§‹åŒ–"]
        A --> A3["config_validator.py<br/>é…ç½®éªŒè¯"]
        
        B["ğŸ§ª æµ‹è¯•å·¥å…·"] --> B1["test_runner.py<br/>æµ‹è¯•è¿è¡Œå™¨"]
        B --> B2["test_large_scale_kg.py<br/>å¤§è§„æ¨¡KGæµ‹è¯•"]
        B --> B3["mock_extractor.py<br/>æ¨¡æ‹ŸæŠ½å–å™¨"]
        
        C["ğŸ“Š æ•°æ®å·¥å…·"] --> C1["download_test_data.py<br/>æµ‹è¯•æ•°æ®ä¸‹è½½"]
        C --> C2["visualize_kg_results.py<br/>KGç»“æœå¯è§†åŒ–"]
        C --> C3["data/<br/>æµ‹è¯•è¯­æ–™åº“"]
        
        D["ğŸš€ éƒ¨ç½²å·¥å…·"] --> D1["deployment/<br/>éƒ¨ç½²è„šæœ¬"]
        D --> D2["monitoring/<br/>ç›‘æ§å¯åŠ¨"]
        D --> D3["maintenance/<br/>è¿ç»´å·¥å…·"]
    end
```

### å·¥å…·è¯¦è§£

```python
scripts/ - å®Œæ•´å·¥å…·ç”Ÿæ€
â”œâ”€â”€ ğŸš€ å¼€å‘è¾…åŠ©
â”‚   â”œâ”€â”€ dev_helper.py        # ä¸€é”®å¼€å‘æ£€æŸ¥
â”‚   â”œâ”€â”€ setup_env.py         # ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ config_validator.py  # é…ç½®æ–‡ä»¶éªŒè¯
â”œâ”€â”€ ğŸ§ª æµ‹è¯•ä¸“ç”¨
â”‚   â”œâ”€â”€ test_runner.py       # ç‹¬ç«‹æµ‹è¯•è¿è¡Œå™¨
â”‚   â”œâ”€â”€ mock_extractor.py    # LLMæ¨¡æ‹Ÿå™¨(æ— APIè°ƒç”¨)
â”‚   â””â”€â”€ test_large_scale_kg.py # å¤§è§„æ¨¡çŸ¥è¯†å›¾è°±æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ ğŸ“Š æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ download_test_data.py    # è‡ªåŠ¨ä¸‹è½½æµ‹è¯•è¯­æ–™
â”‚   â”œâ”€â”€ visualize_kg_results.py # çŸ¥è¯†å›¾è°±ç»“æœå¯è§†åŒ–
â”‚   â””â”€â”€ data/test_corpus/       # 13ä¸ªé¢†åŸŸçš„æµ‹è¯•æ–‡æ¡£
â””â”€â”€ ğŸš€ è¿ç»´éƒ¨ç½²
    â”œâ”€â”€ deployment/docker/      # Dockerå®¹å™¨åŒ–
    â”œâ”€â”€ deployment/k8s/         # Kubernetesç¼–æ’
    â””â”€â”€ monitoring/             # ç›‘æ§æœåŠ¡å¯åŠ¨
```

---

## ğŸ“š æ–‡æ¡£ä½“ç³»

### æ–‡æ¡£æ¶æ„

```mermaid
graph TB
    subgraph "ğŸ“š æ–‡æ¡£çŸ¥è¯†åº“"
        A["ğŸ“– ç”¨æˆ·æ–‡æ¡£"] --> A1["learning_guide.md<br/>å­¦ä¹ æŒ‡å—"]
        A --> A2["configuration_guide.md<br/>é…ç½®æŒ‡å—"]
        A --> A3["tools_guide.md<br/>å·¥å…·ä½¿ç”¨"]
        
        B["ğŸ—ï¸ å¼€å‘æ–‡æ¡£"] --> B1["architecture/<br/>ç³»ç»Ÿæ¶æ„"]
        B --> B2["api/<br/>APIæ–‡æ¡£"]
        B --> B3["development/<br/>å¼€å‘æŒ‡å—"]
        
        C["ğŸ”§ è¿ç»´æ–‡æ¡£"] --> C1["monitoring_operations_guide.md<br/>ç›‘æ§è¿ç»´"]
        C --> C2["operations/<br/>è¿ç»´æ‰‹å†Œ"]
        
        D["ğŸ“Š åˆ†ææŠ¥å‘Š"] --> D1["knowledge_graph_*.md<br/>KGå®ç°æŠ¥å‘Š"]
        D --> D2["monitoring_*.md<br/>ç›‘æ§åˆ†æ"]
        D --> D3["agent_status_analysis.md<br/>AgentçŠ¶æ€åˆ†æ"]
        
        E["ğŸ¯ è§„åˆ’æ–‡æ¡£"] --> E1["knowledge_graph_plan.md<br/>KGè§„åˆ’"]
        E --> E2["monitoring_and_tracing_plan.md<br/>ç›‘æ§è§„åˆ’"]
    end
```

### æ–‡æ¡£ä½“ç³»è¯¦è§£

```python
docs/ - å®Œæ•´çŸ¥è¯†åº“ (20ä¸ªæ–‡æ¡£)
â”œâ”€â”€ ğŸ“– ç”¨æˆ·æ–‡æ¡£
â”‚   â”œâ”€â”€ learning_guide.md           # ğŸ“ å­¦ä¹ ä»·å€¼åˆ†æ
â”‚   â”œâ”€â”€ configuration_guide.md     # âš™ï¸ é…ç½®è¯¦è§£
â”‚   â””â”€â”€ tools_guide.md             # ğŸ› ï¸ å·¥å…·ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ ğŸ—ï¸ å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/              # ç³»ç»Ÿæ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ api/                       # APIæ–‡æ¡£è§„èŒƒ
â”‚   â”œâ”€â”€ development/               # å¼€å‘ç¯å¢ƒæŒ‡å—
â”‚   â””â”€â”€ testing_guide.md           # æµ‹è¯•ç­–ç•¥
â”œâ”€â”€ ğŸ“Š å®ç°æŠ¥å‘Š
â”‚   â”œâ”€â”€ knowledge_graph_*.md       # çŸ¥è¯†å›¾è°±å®ç°è¯¦è§£
â”‚   â”œâ”€â”€ monitoring_*.md            # ç›‘æ§ç³»ç»Ÿåˆ†æ
â”‚   â””â”€â”€ prompt_management_*.md     # æç¤ºè¯ç®¡ç†æ–¹æ¡ˆ
â””â”€â”€ ğŸ¯ è§„åˆ’æ–‡æ¡£
    â”œâ”€â”€ å„ç§_plan.md               # åŠŸèƒ½è§„åˆ’è®¾è®¡
    â””â”€â”€ gap_identifier_*.md        # åŠŸèƒ½ç¼ºé™·åˆ†æ
```

---

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### ğŸš€ å¿«é€Ÿå¯åŠ¨

#### ç¯å¢ƒå‡†å¤‡

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <é¡¹ç›®åœ°å€>
cd ai_student_agent

# 2. å®‰è£…ä¾èµ– (æ¨èä½¿ç”¨uv)
uv sync

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp environments/test.env environments/local.env
# ç¼–è¾‘ local.envï¼Œè®¾ç½®å¿…éœ€çš„APIå¯†é’¥
```

#### ä¸€é”®å¯åŠ¨

```bash
# ğŸš€ å¼€å‘ç¯å¢ƒä¸€é”®å¯åŠ¨
make dev-start

# æˆ–åˆ†æ­¥å¯åŠ¨
uv run python src/main.py                              # APIæœåŠ¡å™¨
uv run streamlit run src/feynman/interfaces/web/streamlit_ui.py  # Webç•Œé¢
```

#### è®¿é—®åœ°å€

- **ğŸ’» Webç•Œé¢**: http://localhost:8501
- **ğŸ“¡ APIæ–‡æ¡£**: http://127.0.0.1:8000/docs
- **ğŸ“Š å¥åº·æ£€æŸ¥**: http://127.0.0.1:8000/health

### âš™ï¸ é…ç½®ç®¡ç†

#### æ ¸å¿ƒé…ç½®é¡¹

```env
# å¿…éœ€é…ç½®
OPENAI_API_KEY="sk-..."          # OpenAI APIå¯†é’¥
ZHIPU_API_KEY="..."              # æ™ºè°±AI APIå¯†é’¥ (å¤‡é€‰)
TAVILY_API_KEY="..."             # ç½‘ç»œæœç´¢API

# çŸ¥è¯†å›¾è°±é…ç½®
KG_BACKEND=local                 # å›¾å­˜å‚¨åç«¯ (local/neo4j)
KG_STORAGE_PATH=data/knowledge_graph.json
KG_MAX_NODES=1000
KG_MAX_EDGES=5000

# ç›‘æ§é…ç½®
MONITORING_ENABLED=true
COST_TRACKING_ENABLED=true
DAILY_COST_LIMIT_USD=100
```

#### å·¥å…·APIé…ç½®

```env
# å¯é€‰å·¥å…·API
BAIDU_TRANSLATE_API_KEY=""       # ç¿»è¯‘æœåŠ¡
JUDGE0_API_KEY=""                # ä»£ç æ‰§è¡Œ
WOLFRAM_API_KEY=""               # æ•°å­¦è®¡ç®—
QUICKCHART_API_KEY=""            # å›¾è¡¨ç”Ÿæˆ
```

### ğŸ› ï¸ å¼€å‘æŒ‡å—

#### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘è¾…åŠ©
make help                        # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make install                     # å®‰è£…ä¾èµ–
make config-check               # é…ç½®éªŒè¯
make test                       # è¿è¡Œæµ‹è¯•

# æœåŠ¡å¯åŠ¨
make run                        # å¯åŠ¨APIæœåŠ¡å™¨
make run-ui                     # å¯åŠ¨Webç•Œé¢
make dev-start                  # å¼€å‘ç¯å¢ƒå®Œæ•´å¯åŠ¨

# å·¥å…·è„šæœ¬
python scripts/dev_helper.py    # å¼€å‘æ£€æŸ¥å·¥å…·
python scripts/config_validator.py  # é…ç½®éªŒè¯
python scripts/test_runner.py   # ç‹¬ç«‹æµ‹è¯•è¿è¡Œå™¨
```

#### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `src/feynman/agents/tools/tools.py` ä¸­æ·»åŠ å·¥å…·å‡½æ•°
2. ä½¿ç”¨ `@tool` è£…é¥°å™¨æ ‡æ³¨
3. åœ¨ `src/feynman/agents/tools/__init__.py` ä¸­æ³¨å†Œ
4. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### ğŸ“ˆ ä»£ç è§„æ¨¡ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **Pythonæ–‡ä»¶** | 60ä¸ª | æ ¸å¿ƒä¸šåŠ¡ä»£ç  |
| **ä»£ç è¡Œæ•°** | 11,665è¡Œ | ä¸å«æ³¨é‡Šå’Œç©ºè¡Œ |
| **æµ‹è¯•æ–‡ä»¶** | 10ä¸ª | å®Œæ•´æµ‹è¯•è¦†ç›– |
| **é…ç½®æ–‡ä»¶** | 138ä¸ª | å¤šç¯å¢ƒé…ç½®æ”¯æŒ |
| **æ–‡æ¡£æ–‡ä»¶** | 20ä¸ª | å®Œæ•´æŠ€æœ¯æ–‡æ¡£ |

### ğŸ¯ åŠŸèƒ½æ¨¡å—ç»Ÿè®¡

| æ¨¡å—ç±»åˆ« | æ•°é‡ | è¯¦ç»†è¯´æ˜ |
|---------|------|----------|
| **æ ¸å¿ƒæ¨¡å—** | 5ä¸ª | agents/api/core/infrastructure/interfaces |
| **AIå·¥å…·** | 13ä¸ª | æœç´¢/è®¡ç®—/å¯è§†åŒ–/çŸ¥è¯†å›¾è°±å·¥å…· |
| **APIç«¯ç‚¹** | 4ä¸ª | å¯¹è¯/ç›‘æ§/é…ç½®/çŸ¥è¯†å›¾è°±æœåŠ¡ |
| **ç›‘æ§ç»´åº¦** | 6ä¸ª | æˆæœ¬/æ€§èƒ½/å¥åº·/è¿½è¸ª/æŒ‡æ ‡/æ—¥å¿— |
| **å­˜å‚¨åç«¯** | 3ä¸ª | Neo4j/ChromaDB/Supabase |

### ğŸš€ æŠ€æœ¯æ ˆæ·±åº¦

| æŠ€æœ¯åˆ†ç±» | æŠ€æœ¯é€‰æ‹© | æˆç†Ÿåº¦ |
|---------|---------|--------|
| **åç«¯æ¡†æ¶** | FastAPI + LangGraph | â­â­â­â­â­ |
| **å‰ç«¯ç•Œé¢** | Streamlit | â­â­â­â­â­ |
| **AIæ¨¡å‹** | OpenAI + æ™ºè°±AI | â­â­â­â­â­ |
| **æ•°æ®å­˜å‚¨** | Neo4j + ChromaDB + Supabase | â­â­â­â­ |
| **ç›‘æ§ä½“ç³»** | Prometheus + Grafana + LangFuse + OpenTelemetry | â­â­â­â­ |
| **éƒ¨ç½²æ–¹æ¡ˆ** | Docker + Kubernetes | â­â­â­â­â­ |
| **åŒ…ç®¡ç†** | uv (ç°ä»£Python) | â­â­â­â­â­ |

---

## ğŸŠ æ€»ç»“

### ğŸ† é¡¹ç›®æ ¸å¿ƒä»·å€¼

**è´¹æ›¼å­¦ä¹ ç³»ç»Ÿ**æ˜¯ä¸€ä¸ªæŠ€æœ¯å«é‡æé«˜ã€å®ç”¨ä»·å€¼çªå‡ºçš„ç°ä»£AIæ•™å­¦ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹è‰²ï¼š

#### ğŸ”¥ æŠ€æœ¯åˆ›æ–°ç‚¹

- âœ¨ **åè½¬æ•™å­¦ç†å¿µ**ï¼šAIæ‰®æ¼”å­¦ç”Ÿï¼Œæ¿€å‘æ•™å­¦æ€è€ƒ
- âš¡ **æµå¼å®æ—¶äº¤äº’**ï¼šLangGraphçŠ¶æ€æœºï¼Œä¸æ»‘ä½“éªŒ
- ğŸ•¸ï¸ **åŠ¨æ€çŸ¥è¯†å›¾è°±**ï¼šå®æ—¶æ„å»ºæ¦‚å¿µå…³ç³»ç½‘ç»œ
- ğŸ’° **æ™ºèƒ½æˆæœ¬æ§åˆ¶**ï¼šè‡ªåŠ¨è¿½è¸ªLLMè°ƒç”¨æˆæœ¬
- ğŸ“Š **å…¨æ–¹ä½ç›‘æ§**ï¼šæ€§èƒ½+å¥åº·+æˆæœ¬+è¿½è¸ª
- ğŸ› ï¸ **ä¸°å¯Œå·¥å…·ç”Ÿæ€**ï¼šæœç´¢+è®¡ç®—+ä»£ç +å¯è§†åŒ–

#### ğŸ“ å­¦ä¹ ä»·å€¼

- ğŸ“Š **ä¼ä¸šçº§æ¶æ„è®¾è®¡**ï¼šå¾®æœåŠ¡+ç›‘æ§+éƒ¨ç½²
- ğŸ¤– **å‰æ²¿AIæŠ€æœ¯**ï¼šå¤§æ¨¡å‹åº”ç”¨+çŸ¥è¯†å›¾è°±
- ğŸ”§ **å·¥ç¨‹æœ€ä½³å®è·µ**ï¼šæµ‹è¯•é©±åŠ¨+æ–‡æ¡£å®Œæ•´
- ğŸ“ˆ **å…¨æ ˆæŠ€èƒ½**ï¼šåç«¯+å‰ç«¯+è¿ç»´+AI

#### ğŸ’¡ é€‚ç”¨åœºæ™¯

- ğŸ« **æ•™è‚²åŸ¹è®­**ï¼šä¸ªæ€§åŒ–æ•™å­¦åŠ©æ‰‹
- ğŸ¢ **ä¼ä¸šåŸ¹è®­**ï¼šå‘˜å·¥æŠ€èƒ½æå‡
- ğŸ§  **çŸ¥è¯†ç®¡ç†**ï¼šç»„ç»‡çŸ¥è¯†åº“æ„å»º
- ğŸ”¬ **ç ”ç©¶è¾…åŠ©**ï¼šæ–‡çŒ®æ•´ç†å’Œæ¦‚å¿µæ¢³ç†

#### ğŸ¯ é€‚åˆäººç¾¤

- ğŸ‘¨â€ğŸ’» **Pythonå…¨æ ˆå¼€å‘è€…** - å­¦ä¹ ä¼ä¸šæ¶æ„è®¾è®¡
- ğŸ¤– **AIå·¥ç¨‹å¸ˆ** - æŒæ¡å¤§æ¨¡å‹åº”ç”¨å¼€å‘
- ğŸ‘¨â€ğŸ« **æ•™è‚²å·¥ä½œè€…** - æ¢ç´¢AIè¾…åŠ©æ•™å­¦
- ğŸ¢ **ä¼ä¸šæŠ€æœ¯å›¢é˜Ÿ** - å‚è€ƒå¾®æœåŠ¡æ¶æ„

### ğŸš€ ç«‹å³å¼€å§‹

```bash
# ä¸€é”®å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
make dev-start

# è®¿é—®Webç•Œé¢
http://localhost:8501

# å¼€å§‹è´¹æ›¼å­¦ä¹ ä¹‹æ—…ï¼
```

---

## ğŸ“ ç»“è¯­

**ğŸ’ è¿™æ˜¯ä¸€ä¸ªå€¼å¾—æ·±å…¥å­¦ä¹ å’Œå®é™…åº”ç”¨çš„é«˜è´¨é‡AIé¡¹ç›®ï¼**

è´¹æ›¼å­¦ä¹ ç³»ç»Ÿä¸ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„AIåº”ç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªæŠ€æœ¯å­¦ä¹ çš„å®åº“ã€‚ä»ç°ä»£Pythonå¼€å‘å®è·µåˆ°å‰æ²¿AIæŠ€æœ¯åº”ç”¨ï¼Œä»å¾®æœåŠ¡æ¶æ„è®¾è®¡åˆ°ä¼ä¸šçº§è¿ç»´ç›‘æ§ï¼Œè¿™ä¸ªé¡¹ç›®æ¶µç›–äº†AIå·¥ç¨‹å¸ˆå’Œå…¨æ ˆå¼€å‘è€…éœ€è¦æŒæ¡çš„æ ¸å¿ƒæŠ€èƒ½ã€‚

æ— è®ºä½ æ˜¯æƒ³å­¦ä¹ AIåº”ç”¨å¼€å‘ã€ä¼ä¸šçº§æ¶æ„è®¾è®¡ï¼Œè¿˜æ˜¯æ¢ç´¢æ•™è‚²æŠ€æœ¯åˆ›æ–°ï¼Œè¿™ä¸ªé¡¹ç›®éƒ½èƒ½ä¸ºä½ æä¾›å®è´µçš„å®è·µç»éªŒå’ŒæŠ€æœ¯å‚è€ƒã€‚

**ğŸ“ å¼€å§‹ä½ çš„è´¹æ›¼å­¦ä¹ ä¹‹æ—…ï¼Œè®©AIæˆä¸ºä½ æœ€å¥½çš„å­¦ç”Ÿï¼**

---

> ğŸ“… **æ–‡æ¡£æ›´æ–°æ—¶é—´**: 2024å¹´8æœˆ  
> ğŸ”– **ç‰ˆæœ¬**: v3.2  
> ğŸ“§ **æŠ€æœ¯æ”¯æŒ**: æŸ¥çœ‹é¡¹ç›® GitHub Issues  
> ğŸ“š **æ›´å¤šæ–‡æ¡£**: è¯·å‚è€ƒ `docs/` ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡æ¡£
